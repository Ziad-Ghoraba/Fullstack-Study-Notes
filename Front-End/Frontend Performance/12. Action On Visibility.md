**On Visibility** means that we want to load or do some action but when some part of the screen become visible which enhance the performance as you just won't initiate everything from the beginning (components, images, requests, ..etc.)

The **Actions** might be **rendering a specific component, loading image, sending a backend request, implementing infinite scrolling, ...etc.**

To listen on the visibility we have the **Intersection Observer API** in JS.

```JS
let observer = new IntersectionObserver(callback, options);
```

```JS
let options = {
	root: document.querySelector(".cards_wrapper"),
	rootMargin: "10px",
	threshold: 1.0,
};
```

- **root** .. defines **where you want to detect visibility** ..
	- `root: null` → viewport (default)
	- `root: someElement` → any scrollable container

- **rootMargin** .. like CSS margin, but pushes the detection boundaries.

- **threshold** .. defines **how much of the element must be visible** to trigger the callback.

```JS
let callback = (entries, observer) => {
	entries.foreach((entry) => {
		...
	});
};
```

Now the full code will be for example:

```JS
let targetEle = document.querySelector(".card");
let options = {
	root: document.querySelector(".cards_wrapper"),
	rootMargin: "10px",
	threshold: 1.0,
};

let callback = (entries, observer) => {
	entries.foreach((entry) => {
		if (entry.isIntersecting) {
	      console.log("Element is visible:", entry.target);
		} else {
		  console.log("Element is no longer visible");
	    }
	});
};

let observer = new IntersectionObserver(callback, options);
observer.observe(targetEle);
```
